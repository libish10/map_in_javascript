<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Google Map</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <h1>My Google Map</h1>
    <div id="Map"></div>

    <script>
        function initMap(){
            //Map Options
            var options={
                zoom:8,
                center:{
                    lat:8.0883,
                    lng:77.5385,
                }
            }
            //Add Map
            var map=new google.maps.Map(document.getElementById("Map"),options);


            google.maps.event.addListener(map,'click',
            
                function(event){
                    //Add Marker
                    addMarker({coords:event.latLng})

            })
            
           //Array of markers
            var markers=[
            {
                 coords:{lat:8.1965,lng:77.2355},
                content:"<h2>Alanchi</h2>"
            },
            {
                coords:{lat:8.5241,lng: 76.9366},
                 content:"<h2>Thiruvanthapuram</h2>"
            },{
                coords:{lat:8.1786,lng: 77.2561},
            }
            ];


            //loop through markers

            for(var i=0;i<markers.length;i++){
                addMarker(markers[i])
            }



        
            //add marker function
            function addMarker(props){
                var marker=new google.maps.Marker({
                position:props.coords,
                map:map,
            });
            if(props.content){
                var infowindow=new google.maps.InfoWindow({
                content:props.content
            });
            marker.addListener('click',function(){
                infowindow.open(map,marker);
            })
            }
            }
        }
    </script>
    <script async defer 
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyByy0o6FzjfnHT8E2fr2XhbtnIBmLUmFMk&callback=initMap">
</script>
</body>
</html>